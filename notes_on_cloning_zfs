zfs snapshot -r zrt/r@201707_16
cryptsetup luksFormat /dev/sdj2 
cryptsetup luksOpen /dev/sdj2 sanzrt       
zpool create sanzrt /dev/dm-0      
zfs send -Rv -I zrt/r@201707_01 zrt/r@201707_16 | ssh away zfs recv -v zfsz2/flash_2017
zfs send -Rv zfsz2/flash_2017@201707_16 | zfs recv -v  sanzrt/r -F

mkfs.ext4 /dev/sdb1
cp -Rva /boot/* /mnt/external/
cryptsetup luksOpen /dev/sdb2 sanzrt


[root@flash ~]# cryptsetup luksOpen /dev/sdb2 sanzrt
Enter passphrase for /dev/sdb2: 
[root@flash ~]# zpool import sanzrt -R /mnt/external
cannot mount '/mnt/external/root': directory is not empty
[root@flash ~]# mount /dev/sdb1 /mnt/external/boot
[root@flash ~]# arch-chroot /mnt/external/
[root@flash /]# grub-install /dev/disk/by-id/usb-SanDisk_SDSSDXPS480G_M6116A016V20-0\:0
Installing for i386-pc platform.
Installation finished. No error reported.
[root@flash /]# sync
[root@flash /]# exit
[root@flash ~]# zpool export sanzrt
umount: /mnt/external: target is busy
        (In some cases useful info about processes that
         use the device is found by lsof(8) or fuser(1).)
cannot unmount '/mnt/external': umount failed
[root@flash ~]# umount /mnt/external/boot/
[root@flash ~]# zpool export sanzrt
[root@flash ~]# 

